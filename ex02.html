<!DOCTYPE html>
<html>
<head>
<script>

function filter(aFunction, anArray){
    var filteredArray = []
    for (var i=0; i < anArray.length; i++) {
        if (aFunction(anArray[i])) {
            filteredArray.push(anArray[i]);
        }
    }
    return filteredArray;
}

function sum(all){
    var sum = 0;
    for (i = 0; i < all.length; i++) {
        sum += all[i];
    }
    return sum;
}

function fibonacciSet(max){
    if (max > 1) {
        var fibArray = [1];
        var currentFib = 1;
        while (currentFib < max) {
            fibArray.push(currentFib);
            currentFib = fibArray[fibArray.length-1] + fibArray[fibArray.length-2];
        }
        return fibArray;
    }
    else {
        return [1, 1];
    }
}

function isEven(n){
    return n % 2 === 0;
}

console.log(sum(filter(isEven, fibonacciSet(4000000))))

</script>
</head>


<body>
</body>
</html>